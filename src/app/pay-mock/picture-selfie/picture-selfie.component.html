<div fxLayout="column" fxLayoutAlign="start center">
    <img alt="FE Credit" src="assets/images/LogoFeCredit.png"/>
    <div class="picture-selfie-slogan" appMarginTop="16">
        Slogan - FEC Content Team to update
    </div>

<div class="global-box" fxLayout="column" fxLayoutAlign="start center">
    <div class="global-title" appMarginTop="63">
        <p>Vui lòng nhập CMND/CCCD</p>
    </div>
    <input type="text" class="global-input" [formControl]="citizenId" appMarginTop="14">
    <div class="error" appMarginTop="8" fxFlexAlign="start" *ngIf="(citizenId.dirty || citizenId.touched) && citizenId.invalid">
            CMND hoặc CCCD có 9 hoặc 12 chữ số
    </div>

    <div class="image-title" appMarginTop="24">
        <p>Chụp ảnh chân dung</p>
    </div>
    <div class="background-gray">
        <div *ngIf="!(pictureService.selfieImageComplete$ | async)" class="background-green">
            <div class="circle-red" (click)="startCaptureImage()">
            </div>
        </div>
        <div>
            <img *ngIf="pictureService.selfieImageComplete$ | async" [src]="pictureService.selfieImage"
                 class="image-blurred-edge"
                 height="235"
                 width="305">
        </div>
    </div>

    <div class="picture-selfie-overlay" fxLayout="column" fxLayoutAlign="center center" *ngIf="!(pictureService.selfieImageComplete$ | async)">
        <img fxFlexAlign="center" width="24" height="24" alt="" src="assets/images/camera.png">
    </div>
    <div class="picture-selfie-overlay" fxLayout="column" fxLayoutAlign="top center" *ngIf="pictureService.selfieImageComplete$ | async">
        <img appMarginTop="8" width="60" height="40" alt="" [src]="pictureService.selfieImage">
        <mat-icon appMarginTop="8" (click)="onDeleteImage()">delete</mat-icon>
    </div>
    <div class="image-title" appMarginTop="16">
        Chân dung
    </div>
    <div class="warning" *ngIf="!(pictureService.selfieImageComplete$ | async)"
         fxFlexAlign="start" fxLayout="row" fxLayoutAlign="start center"
         appMarginTop="10" (click)="instruction = !instruction">
        <img src="assets/images/warning.png" width="14" height="14"> <div class="image-title">  Chưa chụp ảnh</div>
    </div>
    <ng-container *ngIf="instruction">
    <div class="picture-selfie-notice" appMarginTop="16" fxFlexAlign="start">
        Hướng dẫn chụp ảnh chân dung:
    </div>
    <ul>
        <li class="picture-selfie-step">
            Nhấn vào nút màu đỏ để bắt đầu chụp hình
        </li>
        <li class="picture-selfie-step">
            Số CMND/CCCD phải điền chính xác. Vui lòng nhập 9 số (CMND) hoặc 12 số (CCCD)
        </li>
        <li class="picture-selfie-step">
            Ảnh chụp chân dung phải đủ sáng, không đội mũ, không đeo kính
        </li>
    </ul>
    </ng-container>
</div>
<button class="payment-button"
        appMarginTop="36"
        appMarginBottom="32"
        [disabled]="!(pictureService.selfieImageComplete$ | async) || citizenId.invalid"
        (click)="onSelfieContinue()">
    <span>TIẾP TỤC</span><span>&nbsp;&nbsp;&nbsp;></span>
</button>
</div>